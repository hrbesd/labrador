# Parser测试用例

*指导模块测试*

*不涉及模块内部用例*

*不设计恶意测试用例*

## 测试目的

验证Parser模块与前、后模块的整合是否顺利，是否能够产生预期输出

- Parser前一个模块是Spider
- Parser的后续模块是Reactor
- 测试主要验证Parser模块能否正常工作与结束，是否可以正确读取前一个模块的输入数据，并能否为下一个模块提供输出数据

## 用例设计

- Spider模块输入数据验证
	* 验证待处理网站根目录是否包含```workers```文件夹
	* 验证```workers```文件夹中是否包含```spider```输出文件夹
	* 验证```spider```文件夹中是否全部为由两个字符组成的文件夹，例如```00```
	* 验证```spider```的子文件夹中是否全部是文件名长度为32个字符（无文件扩展名，文件名由0-9，a-z组成）的文件
	* 验证这些文件是否为空

- 验证parser配置文件
	* 验证待处理网站根目录是否包含```rules```文件夹
	* 验证```rules```文件夹下是否包含```parser```文件夹
	* 验证```parser```文件夹下是否包含```parser_config.js```
	
- Parser工作验证
	* 验证```parser```模块是否正常退出，即模块执行完成之后，是否退出到命令行
	* 验证```parser```模块是否输出错误信息

- Parser模块输出结构验证
	* 验证```workers```目录下是否有```parser```文件夹
	* 验证```parser```目录下是否全部为由两个字符组成的文件夹，例如```00```
	* 验证```parser```的子文件夹中是否全部是文件名长度为32个字符（不包括文件扩展名，文件名由0-9，a-z组成），并且结尾为```.xml```的文件
	* 验证```.xml```文件中格式是否正确，是否包含```title```，```url```，```author```，```lastModified```，和```bodyData```几个节点,如果```bodyData```中包含img链接，验证xml文件中是否包含```hashData```节点